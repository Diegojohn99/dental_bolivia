<div class="max-w-md mx-auto py-8">
  <h1 class="text-2xl font-semibold text-dental-primary mb-4">Generar factura</h1>
  <div class="bg-white shadow rounded-lg p-6 space-y-4">
    <div class="text-sm text-gray-700 mb-2">
      <p><span class="font-medium">Paciente:</span> <%= @appointment.patient.name %></p>
      <p><span class="font-medium">Servicio:</span> <%= @appointment.service_type %></p>
      <p><span class="font-medium">Fecha y hora:</span> <%= l @appointment.scheduled_at, format: "%d/%m/%Y %H:%M" %></p>
    </div>

    <%= form_with model: @invoice, url: create_invoice_appointment_path(@appointment), method: :post, local: true, class: "space-y-4" do |f| %>
      <div>
        <%= f.label :amount, "Monto (Bs)", class: "block text-sm font-medium text-gray-700" %>
        <%= f.number_field :amount, step: 0.5, min: 0, class: "mt-1 block w-full border-gray-300 rounded-md" %>
      </div>

      <div>
        <%= f.label :payment_method, "MÃ©todo de pago", class: "block text-sm font-medium text-gray-700" %>
        <%= f.select :payment_method,
                     [["Efectivo", "efectivo"], ["Tarjeta", "tarjeta"], ["QR", "qr"]],
                     {},
                     class: "mt-1 block w-full border-gray-300 rounded-md" %>
      </div>

      <div class="flex justify-end space-x-2">
        <%= link_to "Cancelar", appointments_path, class: "px-4 py-2 text-sm border rounded-md" %>
        <%= f.submit "Crear factura", class: "px-4 py-2 text-sm bg-dental-primary text-white rounded-md hover:bg-sky-600" %>
      </div>
    <% end %>
  </div>
</div>
