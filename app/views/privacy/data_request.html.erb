<div class="max-w-2xl mx-auto py-6 px-4">
  <div class="bg-white/95 shadow rounded-2xl p-6 md:p-8">
    <h1 class="text-2xl font-bold text-dental-primary mb-4">Solicitud de datos personales</h1>
    <p class="text-gray-600 mb-6">
      Utiliza este formulario para solicitar acceso, rectificación o eliminación de tus datos personales.
    </p>

    <%= form_with url: privacy_submit_data_request_path, method: :post, local: true, class: "space-y-4" do |f| %>
      <div>
        <%= f.label :email, "Email registrado", class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.email_field :email, required: true, 
                          class: "w-full border-gray-300 rounded-md focus:ring-dental-primary focus:border-dental-primary",
                          placeholder: "ejemplo@email.com" %>
        <p class="text-xs text-gray-500 mt-1">
          Ingresa el email con el que te registraste como paciente.
        </p>
      </div>

      <div>
        <%= f.label :request_type, "Tipo de solicitud", class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.select :request_type, 
                     options_for_select([
                       ["Acceso a mis datos", "access"],
                       ["Rectificación de datos", "rectification"],
                       ["Eliminación de datos", "deletion"],
                       ["Portabilidad de datos", "portability"]
                     ]),
                     { prompt: "Selecciona el tipo de solicitud" },
                     { class: "w-full border-gray-300 rounded-md focus:ring-dental-primary focus:border-dental-primary" } %>
      </div>

      <div>
        <%= f.label :reason, "Motivo de la solicitud", class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.text_area :reason, rows: 4,
                        class: "w-full border-gray-300 rounded-md focus:ring-dental-primary focus:border-dental-primary",
                        placeholder: "Describe brevemente el motivo de tu solicitud..." %>
      </div>

      <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
        <h3 class="text-sm font-medium text-yellow-800 mb-2">Información importante:</h3>
        <ul class="text-xs text-yellow-700 space-y-1">
          <li>• Las solicitudes serán procesadas en un plazo máximo de 30 días.</li>
          <li>• Para eliminación de datos, se conservarán los mínimos requeridos por ley.</li>
          <li>• Podremos solicitar verificación adicional de identidad.</li>
          <li>• Los historiales médicos se conservan según normativa sanitaria vigente.</li>
        </ul>
      </div>

      <div class="flex flex-col md:flex-row gap-3 pt-4">
        <%= f.submit "Enviar solicitud", 
                     class: "px-4 py-2 bg-dental-primary text-white rounded-lg hover:bg-sky-600 font-medium" %>
        <%= link_to "Cancelar", privacy_policy_path, 
                    class: "px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 text-center" %>
      </div>
    <% end %>
  </div>
</div>
